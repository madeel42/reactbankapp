(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(48)},38:function(e,t,a){},39:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},40:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),o=a.n(l),c=(a(38),a(6)),s=a(28),u=a(10),i=a(8),d=a(7),m=a(11),p=(a(39),a(40),a(20)),g=a(30),E=a(13),h=a(14),f=a(19),b=a(9),v={login:function(e,t){fetch("/login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:"ali",password:"123"})}).then(function(e){return e.json()}).then(function(e){console.log(e),e.success?(alert("userFound"),t.props.history.push("/dashboard")):alert("current user not found")})},signup:function(e){var t=new FormData;t.append("name",e.name),t.append("email",e.email),t.append("amount",e.amount),t.append("dob",e.dob),t.append("password",e.password),t.append("gender",e.gender),t.append("userdp",e.selectedFile),fetch("/signup",{method:"POST",body:t}).then(function(e){return e.json()}).then(function(e){e.success&&alert("User created")})}},y={deleteAccount:function(e,t){fetch("/removeaccount/"+e,{method:"DELETE"}).then(function(e){return e.json()}).then(function(e){t.setState({users:e.users})})},updateAccount:function(e,t){fetch("/updateAccount/"+e,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.state.users[e])}).then(function(e){return e.json()}).then(function(e){t.setState({users:e.users})})}},w={loggedInUser:{transactions:[]},inProcess:!1,users:[]};function I(e,t){var a=e.find(function(e){return e.id==t.id}),n=e.indexOf(a);e[n]=t}var O=a(26),C=a(31),A={key:"root",storage:a.n(C).a},U=Object(b.b)({SignupReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case"item-Updated":y.updateAccount(t.payload,t.ctx);break;case"ITEM_DELETE":y.deleteAccount(t.payload,t.ctx);break;case"TRANSACTION_UPDATED":return a.loggedInUser.transactions[t.payload.index].amount=t.payload.updatedAmount,I(a.users,a.loggedInUser),a;case"Edit_Tranasaction":return"Deposit"==a.loggedInUser.transactions[t.target].nature?a.loggedInUser.amount-=+a.loggedInUser.transactions[t.target].amount:a.loggedInUser.amount+=+a.loggedInUser.transactions[t.target].amount,I(a.users,a.loggedInUser),a;case"DELETE_TRANSACTION":return"Deposit"==a.loggedInUser.transactions[t.target].nature?a.loggedInUser.amount-=+a.loggedInUser.transactions[t.target].amount:a.loggedInUser.amount+=+a.loggedInUser.transactions[t.target].amount,a.loggedInUser.transactions.splice(t.target,1),I(a.users,a.loggedInUser),a;case"persist/REHYDRATE":t.payload&&I((a=t.payload.SignupReducer).users,a.loggedInUser);break;case"Withdraw":return a.loggedInUser.amount-=+t.payload.amount,a.loggedInUser.transactions.push(t.payload),I(a.users,a.loggedInUser),a;case"Deposit":return a.loggedInUser.amount+=+t.payload.amount,a.loggedInUser.transactions.push(t.payload),I(a.users,a.loggedInUser),a;case"CREATING_USER":v.signup(t.data);break;case"USER_LOGGING_IN":v.login(t.data,t.ctx)}return a}}),T=Object(O.a)(A,U),j=Object(b.c)(T),S=Object(O.b)(j),D=function(){return{store:j,persistor:S}},N=D().store,k=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).selectFile=function(e){a.setState({selectedFile:e.target.files[0]})},a.handleChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.signup=function(e){a.state.transactions=[],e.preventDefault(),console.log(a.state),N.dispatch({ctx:Object(d.a)(a),type:"CREATING_USER",data:a.state})},a.render=function(){return r.a.createElement("div",{id:"signup-comp"},r.a.createElement("form",{onSubmit:a.signup},r.a.createElement("h2",null,"SIGN UP"),r.a.createElement("div",null,r.a.createElement("input",{onChange:a.handleChange,type:"text",name:"name",placeholder:"Name "})),r.a.createElement("div",null,r.a.createElement("input",{onChange:a.handleChange,type:"text",name:"email",placeholder:"Email "})),r.a.createElement("div",null,r.a.createElement("input",{onChange:a.handleChange,type:"number",name:"amount",placeholder:"Initial AMount "})),r.a.createElement("div",null,r.a.createElement("input",{onChange:a.handleChange,type:"date",name:"dob",placeholder:"Date of birth "})),r.a.createElement("div",null,r.a.createElement("input",{onChange:a.handleChange,type:"password",name:"password",placeholder:"Password"})),r.a.createElement("p",null,r.a.createElement("label",null,r.a.createElement("input",{onChange:a.handleChange,name:"gender",value:"MALE",type:"radio"}),r.a.createElement("span",null,"Male"))),r.a.createElement("p",null,r.a.createElement("label",null,r.a.createElement("input",{onChange:a.handleChange,name:"gender",value:"FEMALE",type:"radio"}),r.a.createElement("span",null,"Female")),r.a.createElement("img",{id:"filePreview"})),r.a.createElement("div",null,r.a.createElement("input",{onChange:a.selectFile,type:"file",name:"userdp"}),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Submit")))))},a}return Object(m.a)(t,e),t}(r.a.Component),x=D().store,R=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).handleChange=function(e){a.props.history.push("/login"),a.setState(Object(f.a)({},e.target.name,e.target.value))},a.doLogin=function(e){e.preventDefault(),console.log(a.state),x.dispatch({ctx:Object(d.a)(a),type:"USER_LOGGING_IN",data:a.state})},a.render=function(){return r.a.createElement("div",{id:"signupIn"},r.a.createElement("form",{onSubmit:a.doLogin},r.a.createElement("h2",null,"Login Account"),r.a.createElement("div",null,r.a.createElement("input",{onChange:a.handleChange,type:"text",name:"name",placeholder:"Name "})),r.a.createElement("div",null,r.a.createElement("input",{onChange:a.handleChange,type:"password",name:"password",placeholder:"Password "})),r.a.createElement("button",{type:"submit"},"Submit")))},a}return Object(m.a)(t,e),t}(r.a.Component),L=D().store,B=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={editing:!1},a.withdraw=function(){var e={type:"Cash",nature:"Withdraw",amount:a.refs.withdrawamount.value,Id:Math.floor(1e6*Math.random()+1),date:(new Date).toLocaleDateString()};L.dispatch({type:"Withdraw",payload:e})},a.deposit=function(){var e={type:"Cash",nature:"Deposit",amount:a.refs.withdrawamount.value,Id:Math.floor(1e6*Math.random()+1),date:(new Date).toLocaleDateString()};L.dispatch({type:"Deposit",payload:e})},a.render=function(){return r.a.createElement("div",{id:"detail"},r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("div",{class:"nav-wrapper"},r.a.createElement("a",{id:"welcomed",class:"brand-logo"}," Welcome ",a.props.data.loggedInUser.name),r.a.createElement("a",{class:"brand-logo"},"THE ISLAMIC BANK"),r.a.createElement("ul",{id:"nav-mobile",class:"right hide-on-med-and-down"},r.a.createElement(h.a,{to:"/"},r.a.createElement("li",null,r.a.createElement("a",{id:"logOut"},r.a.createElement("i",null,"Log Out")))))))),r.a.createElement("div",{id:"details"},r.a.createElement("table",{width:"100%"},r.a.createElement("tr",null,r.a.createElement("td",{colspan:"3"},r.a.createElement("h1",null,r.a.createElement("pre",null,"E-Banking ")))),r.a.createElement("tr",null,r.a.createElement("td",null,"NAME"),r.a.createElement("td",{id:"accountName"},a.props.data.loggedInUser.name)),r.a.createElement("tr",null,r.a.createElement("td",null,"Balance"),r.a.createElement("td",{id:"accountBalance",ref:"accountBalance"},a.props.data.loggedInUser.amount)),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("input",{id:"withdrawamount",type:"text",ref:"withdrawamount"})),r.a.createElement("td",null,r.a.createElement("a",{onClick:a.withdraw,id:"withdrawBTN",class:"waves-effect waves-light btn"},"WITHDRAW")),r.a.createElement("td",null,r.a.createElement("a",{onClick:a.deposit,id:"depositBTN",class:"waves-effect waves-light btn"},"DEPOSIT")),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{type:"button",class:"btn btn-danger",id:"transferAmmount"},"Transfer"),r.a.createElement("button",{type:"button",class:"btn btn-danger dropdown-toggle dropdown-toggle-split","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("span",{class:"sr-only"},"Toggle Dropdown")),r.a.createElement("div",{class:"dropdown-menu",id:"drop"}))),r.a.createElement("td",null,r.a.createElement("div",null,r.a.createElement("h3",{id:"rN"}))))),r.a.createElement("table",{id:"dashBoard",ref:"dashBoard",class:"centered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null," ",r.a.createElement("select",{name:"",id:"transactionFilter"},r.a.createElement("option",{value:"All"},"All"),r.a.createElement("option",{value:"Deposit"},"Deposit"),r.a.createElement("option",{value:"Withdraw"},"Withdraw")))),r.a.createElement("tr",null,r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"NATURE"),r.a.createElement("th",null,"TRANSACTION ID"),r.a.createElement("th",null,"AMOUNT"),r.a.createElement("th",null,"Delete"),r.a.createElement("th",null,"Edit?")),a.props.data.loggedInUser.transactions.map(function(e,t){return r.a.createElement("tr",{style:{backgroundColor:"Deposit"==e.nature?"grey":"darkgrey"}},r.a.createElement("td",null,e.date),r.a.createElement("td",null,e.nature),r.a.createElement("td",null,e.Id),r.a.createElement("td",null,e.amount),r.a.createElement("td",null," ",a.state.editing?r.a.createElement("input",{onChange:function(e){a.setState({editedValue:e.target.value})},defaultValue:e.amount}):e.amount),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){a.props.send({type:"DELETE_TRANSACTION",target:t})}}," Delete")),r.a.createElement("td",null,!a.state.editing&&r.a.createElement("button",{onClick:function(){a.setState({editing:!0})}},"EDIT"),a.state.editing&&r.a.createElement("button",{onClick:function(){a.props.send({type:"TRANSACTION_UPDATED",payload:{index:t,updatedAmount:a.state.editedValue}}),a.setState({editing:!1})}},"Done")))})),r.a.createElement("tbody",{id:"transactionsTable"}))))},a}return Object(m.a)(t,e),t}(r.a.Component),M=Object(p.b)(function(e){return{data:e.SignupReducer}},function(e){return{send:e}})(B),_=a(2),P=Object(_.a)(),W=D().store,F=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(i.a)(t).call(this,e))).state={users:[]},a.updateAccount=function(e){W.dispatch({type:"item-Updated",payload:e,ctx:Object(d.a)(a)})},a.deleteAccount=function(e){W.dispatch({type:"ITEM_DELETE",payload:e,ctx:Object(d.a)(a)})},fetch("/users").then(function(e){return e.json()}).then(function(e){console.log(e.myUsers),a.setState({users:e.myUsers})}),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("table",null,r.a.createElement("h1",null,"Users"),this.state.users.map(function(t,a){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("input",{value:t.name,onChange:function(a){t.name=a.target.value,e.setState({users:e.state.users})}})),r.a.createElement("td",null,t.email),r.a.createElement("td",null,t.password),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){e.deleteAccount(a)}},"DELETE")),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){e.updateAccount(a)}},"UPDATE")))}))}}]),t}(r.a.Component),G=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).render=function(){return r.a.createElement(p.a,{store:W},r.a.createElement(g.a,{loading:null,persistor:D().persistor},r.a.createElement(E.b,{history:P},r.a.createElement(E.a,{path:"/info",component:M}),r.a.createElement(E.a,{path:"/new",component:k}),r.a.createElement(E.a,{path:"/login",component:R}),r.a.createElement(E.a,{path:"/users",component:F}),r.a.createElement(E.a,{exact:!0,path:"/",render:function(){return r.a.createElement("div",null," ",r.a.createElement("div",null,r.a.createElement(h.a,{to:"/"},r.a.createElement("img",{id:"bankimg",src:"bank1.png"}))),r.a.createElement(h.a,{to:"/new",id:"signupBTN",class:"waves-effect waves-light btn"},"New USer"),r.a.createElement(h.a,{to:"/login",id:"signinBTN",class:"waves-effect waves-light btn"},"SIgn In"))}}))))},a}return Object(m.a)(t,e),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.6a0dd760.chunk.js.map